sensor:
  - id: ${uid}
    platform: homeassistant
    entity_id: ${entity_id}
    on_value:
      - lvgl.label.update:
          id: ${label_id}
          text: !lambda |-
            char buf[32];
            if ("${unit}" == "£") {
              sprintf(buf, "£%.2f", x);
            } else {
              sprintf(buf, "%.0f${unit}", x);
            }
            return std::string(buf);