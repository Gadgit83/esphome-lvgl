# Weather sensors - assuming HA provides these entities
text_sensor:
  - id: temp_display
    platform: template
    lambda: |-
      char buf[32];
      sprintf(buf, "H:%.0f", id(weather_high_today).state);
      return std::string(buf);
    on_value:
      - lvgl.label.update:
          id: weather_day1_temp
          text: !lambda return x

  - id: rain_display
    platform: template
    lambda: |-
      char buf[32];
      sprintf(buf, "Rain: %.1f", id(weather_precip_today).state);
      return std::string(buf);
    on_value:
      - lvgl.label.update:
          id: weather_day1_precip
          text: !lambda return x

sensor:
  - id: weather_high_today
    platform: homeassistant
    entity_id: sensor.weather_high_today

  - id: weather_low_today
    platform: homeassistant
    entity_id: sensor.weather_low_today

  - id: weather_precip_today
    platform: homeassistant
    entity_id: sensor.weather_precip_today
    on_value:
      - lvgl.label.update:
          id: weather_day1_icon
          text: !lambda return "\uF059"

# Similar for day2 and day3
# ... (add analogous for tomorrow and day3)